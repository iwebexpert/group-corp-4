export function getParams(key, defaultValue = {}, param = null) {
  const raw = localStorage.getItem(key)
  const items = (function (raw) {
    try {
      return JSON.parse(raw)
    } catch (err) {
      return null
    }
  })(raw)
  if (items === null) {
    return defaultValue
  }
  if (param === null) {
    return items
  }
  return items[param] ?? defaultValue
}

export function setParams(key, param = 'default', value = {}) {
  const items = getParams(key)
  items[param] = value
  localStorage.setItem(key, JSON.stringify(items))
}

export function removeParams(key) {
  localStorage.removeItem(key)
}
